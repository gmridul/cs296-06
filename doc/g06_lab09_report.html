


<html> 
<head> 
<div align="center">

<h1>Lab5 Timing Experiments : Observations and Inferences</h1>
<h3> Sudipto Biswas, 110050048<br>
<br>
Sagar Jha, 110100024<br>
<br>
Mridul Garg, 110050030<br>
</h3>
2013-03-16
</div> 
</head>

<h2>Introduction</h2>
The Lab05 Timing experiments provided us with some very interesting plots relating and comparing loop time, step time, velocity update time, position update time and collision time.The purpose of this report is to list down all the distinct observations made regarding the '' Timing plots '' and to make an attempt to draw inferences from these observations.

<h2>Error in the original ( de-patched ) Box2D code</h2>
In the file b2Timer.cpp present in the common folder of Box2D package, there was an error initially, a logical error in the reset function. In the reset function defined for the linux version of the code, the variable m_start_msec  is defined as a long type variable. So when we calculate m_start_msec from m_start_usec by multiplying it with 0.001, the precision is lost. For Eg, if m_start_usec is 489 which means m_start_msec is 0.489 but as it is long, it will store 0, thus committing a huge error to the data. In the patched version we take care of this logical error by storing the time in a timeval  object, which in turn protects the data from such a loss of information and prevents it from subjection to error.

<h2>Observations and Conclusions</h2>
<h3>Plot 01 : Step time and Total Loop time averaged over Reruns</h3>
<div align="center">
<img src=../plots/g06_lab09_plot01.png >
</div>
1. Loop time is greater than the Step time at all points except the first point where both are equal.
<br> 2. Total Loop time increases with the number of iterations whereas the Step time stays nearly constant or slightly decreases.   This is because the loop executes iteration times but the step time is averaged over total iterations.
<h3>Plot 02 : Step time, Velocity update time, Position update time and Collision time averaged over Reruns</h3>
<div align="center">
<img src=../plots/g06_lab09_plot02.png >
</div>
1. Step time >  velocity update time >  position update time >  collision time
<br>2. Each of these decrease slightly with the number of iterations
<br>3. The time taken to update velocity is highest becuase it involves more calculations than the other two.
<h3>Plot 03 : Step time and Loop time averaged over Iterations</h3>
<div align="center">
<img src=../plots/g06_lab09_plot03.png >
</div>
Since, there is no difference among the reruns, Step time and Loop time are very closely deviated about the average with the rerun number.
<h3>Plot 04 : Step time, Velocity update time, Position update time and Collision time averaged over Iterations</h3>
<div align="center">
<img src=../plots/g06_lab09_plot04.png >
</div>
Same is the case with this plot of collision time, velocity update time and position update time. Like the previous plot, all of them are slightly deviated about their respective averages with the rerun number.
<h3>Plot 05 : Deviation in all the Time measurements</h3>
<div align="center">
<img src=../plots/g06_lab09_plot05.png >
</div>
1. Deviation of Step time >  Velocity update time >  Position update time >  Collision time
<br>2. This together with the second plot shows that the percentage deviation of all the three is nearly equal.
<h3>Plot 06 : Step time and Loop time averaged over Reruns for no heavy processes and many CPU heavy processes</h3>
<div align="center">
<img src=../plots/g06_lab09_compare1.png >
</div>
<h3>Plot 07 : Step time, Velocity update time, Position update time and Collision time averaged over Reruns for no heavy processes and many CPU heavy processes</h3>
<div align="center">
<img src=../plots/g06_lab09_compare2.png >
</div>
We can see from the above two plots that the loop time, step time and times for velocity, position and collision updates are significantly higher in the case when many CPU heavy processes are running as compared to the case when the CPU is occupied only by our executable. 